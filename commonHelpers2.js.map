{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst STORAGE_KEY = \"feedback-form-state\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    restoreData();\n});\n\nform.addEventListener('input', onFormInput);\n\nfunction onFormInput(event) {\n    const { name, value } = event.target;\n\n    if (name === 'email' || name === 'message') {\n        const data = {\n            ...loadFromLS(STORAGE_KEY),\n            [name]: value.trim(),\n        };\n\n        saveToLS(STORAGE_KEY, data);\n    }\n}\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    const email = form.elements.email.value.trim();\n    const message = form.elements.message.value.trim();\n\n    if (!email) {\n        alert('Email field must be filled in');\n        return;\n    } else if (!message) {\n        alert(\"Message field can't be empty!\");\n        return;\n    }\n\n    console.log('Form submitted successfully. Email sent to:', email);\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n}\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    try {\n        const data = localStorage.getItem(key);\n        return JSON.parse(data) || {};\n    } catch (error) {\n        console.error('Error loading data from localStorage:', error.message);\n        return {};\n    }\n}\n\nfunction restoreData() {\n    const data = loadFromLS(STORAGE_KEY);\n\n    form.elements.email.value = data.email || '';\n    form.elements.message.value = data.message || '';\n}\n"],"names":["form","STORAGE_KEY","restoreData","onFormInput","event","name","value","data","loadFromLS","saveToLS","onFormSubmit","email","message","key","jsonData","error"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEpB,SAAS,iBAAiB,mBAAoB,IAAM,CAChDC,GACJ,CAAC,EAEDF,EAAK,iBAAiB,QAASG,CAAW,EAE1C,SAASA,EAAYC,EAAO,CACxB,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE9B,GAAIC,IAAS,SAAWA,IAAS,UAAW,CACxC,MAAME,EAAO,CACT,GAAGC,EAAWP,CAAW,EACzB,CAACI,CAAI,EAAGC,EAAM,KAAM,CAChC,EAEQG,EAASR,EAAaM,CAAI,CAC7B,CACL,CAEAP,EAAK,iBAAiB,SAAUU,CAAY,EAE5C,SAASA,EAAaN,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMO,EAAQX,EAAK,SAAS,MAAM,MAAM,OAClCY,EAAUZ,EAAK,SAAS,QAAQ,MAAM,OAE5C,GAAKW,GAGE,GAAI,CAACC,EAAS,CACjB,MAAM,+BAA+B,EACrC,MACH,MANW,CACR,MAAM,+BAA+B,EACrC,MACR,CAKI,QAAQ,IAAI,8CAA+CD,CAAK,EAChE,aAAa,WAAWV,CAAW,EACnCD,EAAK,MAAK,CACd,CAEA,SAASS,EAASI,EAAKP,EAAO,CAC1B,MAAMQ,EAAW,KAAK,UAAUR,CAAK,EACrC,aAAa,QAAQO,EAAKC,CAAQ,CACtC,CAEA,SAASN,EAAWK,EAAK,CACrB,GAAI,CACA,MAAMN,EAAO,aAAa,QAAQM,CAAG,EACrC,OAAO,KAAK,MAAMN,CAAI,GAAK,CAAA,CAC9B,OAAQQ,EAAO,CACZ,eAAQ,MAAM,wCAAyCA,EAAM,OAAO,EAC7D,EACV,CACL,CAEA,SAASb,GAAc,CACnB,MAAMK,EAAOC,EAAWP,CAAW,EAEnCD,EAAK,SAAS,MAAM,MAAQO,EAAK,OAAS,GAC1CP,EAAK,SAAS,QAAQ,MAAQO,EAAK,SAAW,EAClD"}